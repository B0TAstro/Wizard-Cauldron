{% extends 'base.html.twig' %}
{% block title %}
	{{ spell.name }}
{% endblock %}

{# Palette par rareté #}
{% set rarity = spell.rarity|lower %}
{% set palette = {
  'common':    { 'title':'text-slate-200',   'border':'border-slate-400/30',  'ring':'ring-slate-400/40',  'hex':'#94a3b8' },
  'rare':      { 'title':'text-sky-300',     'border':'border-sky-400/30',    'ring':'ring-sky-400/40',    'hex':'#38bdf8' },
  'epic':      { 'title':'text-violet-300',  'border':'border-violet-400/30', 'ring':'ring-violet-400/40', 'hex':'#a78bfa' },
  'legendary': { 'title':'text-amber-300',   'border':'border-amber-400/40',  'ring':'ring-amber-400/40',  'hex':'#f59e0b' }
} %}
{% set colors = palette[rarity] ?? palette.common %}

{% block body %}
	<div class="mt-6">
		<a href="{{ path('admin_spell') }}" class="underline hover:text-white">← Back to list</a>
	</div>

	<div class="min-h-[70vh] grid place-items-center">
		<div class="glow-wrap w-full max-w-3xl" style="--glow: {{ colors.hex }}">
			<article class="relative z-10 rounded-[28px] bg-black border {{ colors.border }} ring-1 {{ colors.ring }} transition-transform duration-200 hover:scale-[1.01]">
				<div class="grid grid-cols-1 md:grid-cols-[120px_1fr] gap-6 md:gap-8 p-6 md:p-8">
					<div class="flex items-start md:items-center justify-center md:justify-start">
						<div class="aspect-square w-20 md:w-24 overflow-hidden rounded-xl border {{ colors.border }} bg-black">
							{% if spell.imageUrl %}
								<img src="{{ spell.imageUrl }}" alt="{{ spell.name }} image" class="h-full w-full object-contain" loading="lazy" decoding="async" referrerpolicy="no-referrer"/>
							{% else %}
								<div class="h-full w-full grid place-items-center text-white/30 text-xs">No image</div>
							{% endif %}
						</div>
					</div>

					<div class="min-w-0">
						<h2 class="text-3xl md:text-4xl font-semibold leading-tight {{ colors.title }}">
							{{ spell.name }}
						</h2>

						{% if spell.description %}
							<p class="mt-3 md:mt-4 text-base md:text-lg text-white/85 leading-relaxed">
								{{ spell.description }}
							</p>
						{% endif %}
					</div>
				</div>
			</article>
		</div>
	</div>
{% endblock %}